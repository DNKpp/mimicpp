<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>mimic++: sequence</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">mimic++<span id="projectnumber">&#160;v1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('d3/dd3/group___e_x_p_e_c_t_a_t_i_o_n___s_e_q_u_e_n_c_e.html','../../'); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">sequence</div></div>
</div><!--header-->
<div class="contents">

<p>Sequences enable deterministic ordering between multiple expectations.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d54/classmimicpp_1_1_sequence.html">mimicpp::Sequence</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The user level sequence object.  <a href="../../d5/d54/classmimicpp_1_1_sequence.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gabe345f064a02510e07321d78c59959e7" id="r_gabe345f064a02510e07321d78c59959e7"><td class="memItemLeft" align="right" valign="top">enum class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gabe345f064a02510e07321d78c59959e7">mimicpp::SequenceId</a> : std::size_t </td></tr>
<tr class="memdesc:gabe345f064a02510e07321d78c59959e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Strong type for internally used sequence ids.  <a href="#gabe345f064a02510e07321d78c59959e7">More...</a><br /></td></tr>
<tr class="separator:gabe345f064a02510e07321d78c59959e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga86172142a200384577c82c2051c388a7" id="r_ga86172142a200384577c82c2051c388a7"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga86172142a200384577c82c2051c388a7">mimicpp::expect::in_sequence</a> (<a class="el" href="../../d5/d54/classmimicpp_1_1_sequence.html">Sequence</a> &amp;sequence, const std::size_t <a class="el" href="../../d3/d18/namespacemimicpp_1_1expect.html#a9b497738d4a9362ce2d7c227f5fd4c3f">times</a>=1u)</td></tr>
<tr class="memdesc:ga86172142a200384577c82c2051c388a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attaches the expectation onto a sequence.  <br /></td></tr>
<tr class="separator:ga86172142a200384577c82c2051c388a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaff97698bf9ff2924055f59a948483f56" id="r_gaff97698bf9ff2924055f59a948483f56"><td class="memTemplParams" colspan="2">template&lt;std::size_t size&gt; </td></tr>
<tr class="memitem:gaff97698bf9ff2924055f59a948483f56"><td class="memTemplItemLeft" align="right" valign="top">auto&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#gaff97698bf9ff2924055f59a948483f56">mimicpp::expect::in_sequences</a> (const std::reference_wrapper&lt; <a class="el" href="../../d5/d54/classmimicpp_1_1_sequence.html">Sequence</a> &gt;(&amp;sequences)[size], const std::size_t <a class="el" href="../../d3/d18/namespacemimicpp_1_1expect.html#a9b497738d4a9362ce2d7c227f5fd4c3f">times</a>=1u)</td></tr>
<tr class="memdesc:gaff97698bf9ff2924055f59a948483f56"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attaches the expectation onto the listed sequences.  <br /></td></tr>
<tr class="separator:gaff97698bf9ff2924055f59a948483f56"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Sequences enable deterministic ordering between multiple expectations. </p>
<p>Their aim is to provide a convenient way for users, to circumvent the rather loosely ordering of expectations, which is by design. By default, if two or more expectations would match a call, the last created one is used. If multiple expectations are built one after another, that may be rather unintuitive design, but when it comes to scoping, it's usually preferable to match the expectations from within the current scope, even if there exist another similar expectation from the outside scope.</p>
<p>As I have no idea how to use one strategy for one case and the other for the other case, I decided to take the same route as <code>trompeloeil</code>. </p><dl class="section see"><dt>See also</dt><dd><a href="https://github.com/rollbear/trompeloeil/blob/main/docs/CookBook.md#sequences">https://github.com/rollbear/trompeloeil/blob/main/docs/CookBook.md#sequences</a></dd></dl>
<p>Either way, this is sometimes not enough, when we want to enforce deterministic ordering between two or more expectations. That's where sequences come into play. The expectation, which gets attached first must match before all subsequent expectations. If that one is fulfilled, the next one in the row must be matched; and so on. </p><div class="fragment"><div class="line">    <span class="keyword">namespace </span>matches = <a class="code hl_namespace" href="../../dd/d7b/namespacemimicpp_1_1matches.html">mimicpp::matches</a>;</div>
<div class="line">    <span class="keyword">namespace </span>expect = <a class="code hl_namespace" href="../../d3/d18/namespacemimicpp_1_1expect.html">mimicpp::expect</a>;</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_class" href="../../d2/d48/classmimicpp_1_1_mock.html">mimicpp::Mock</a>&lt;void(<span class="keywordtype">int</span>)&gt; mock{};</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_class" href="../../d5/d54/classmimicpp_1_1_sequence.html">mimicpp::Sequence</a> sequence{};</div>
<div class="line">    <a class="code hl_define" href="../../d2/d4f/_expectation_builder_8hpp.html#a7e7d68eefb8f3cba28422f62bcf2f90a">SCOPED_EXP</a> mock.expect_call(matches::ne(0))</div>
<div class="line">                | expect::in_sequence(sequence);</div>
<div class="line">    <a class="code hl_define" href="../../d2/d4f/_expectation_builder_8hpp.html#a7e7d68eefb8f3cba28422f62bcf2f90a">SCOPED_EXP</a> mock.expect_call(matches::le(42))</div>
<div class="line">                | expect::in_sequence(sequence);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// a call with arg != 0 is expected before a call with arg &lt;= 42</span></div>
<div class="line">    mock(42); <span class="comment">// matches the first expectation</span></div>
<div class="line">    mock(0); <span class="comment">// matches the second expectation</span></div>
<div class="line"> </div>
<div class="line">    <span class="comment">// note: when we change the call order, the sequence would be violated</span></div>
</div><!-- fragment --><p>Sequences can also enforce orders on expectations, which refer to different mocks. </p><div class="fragment"><div class="line">    <span class="keyword">using </span><a class="code hl_variable" href="../../dc/d99/group___e_x_p_e_c_t_a_t_i_o_n___m_a_t_c_h_e_r.html#gaa74e274d126775d36dd9ebfd5879b61e">mimicpp::matches::_</a>;</div>
<div class="line">    <span class="keyword">namespace </span>expect = <a class="code hl_namespace" href="../../d3/d18/namespacemimicpp_1_1expect.html">mimicpp::expect</a>;</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_class" href="../../d2/d48/classmimicpp_1_1_mock.html">mimicpp::Mock</a>&lt;void(<span class="keywordtype">int</span>)&gt; mock1{};</div>
<div class="line">    <a class="code hl_class" href="../../d2/d48/classmimicpp_1_1_mock.html">mimicpp::Mock</a>&lt;void(<span class="keywordtype">int</span>)&gt; mock2{};</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_class" href="../../d5/d54/classmimicpp_1_1_sequence.html">mimicpp::Sequence</a> sequence{};</div>
<div class="line">    <a class="code hl_define" href="../../d2/d4f/_expectation_builder_8hpp.html#a7e7d68eefb8f3cba28422f62bcf2f90a">SCOPED_EXP</a> mock2.expect_call(_) <span class="comment">// mock2 must go first</span></div>
<div class="line">                | expect::in_sequence(sequence);</div>
<div class="line">    <a class="code hl_define" href="../../d2/d4f/_expectation_builder_8hpp.html#a7e7d68eefb8f3cba28422f62bcf2f90a">SCOPED_EXP</a> mock1.expect_call(_) <span class="comment">// mock1 must go second</span></div>
<div class="line">                | expect::in_sequence(sequence);</div>
<div class="line"> </div>
<div class="line">    mock2(42);</div>
<div class="line">    mock1(1337);</div>
</div><!-- fragment --><p>Sequenced and non-sequenced expectations may be arbitrarily mixed; even if this can be very difficult to trace, by simply reviewing the code. </p><div class="fragment"><div class="line">    <span class="keyword">using </span><a class="code hl_variable" href="../../dc/d99/group___e_x_p_e_c_t_a_t_i_o_n___m_a_t_c_h_e_r.html#gaa74e274d126775d36dd9ebfd5879b61e">mimicpp::matches::_</a>;</div>
<div class="line">    <span class="keyword">namespace </span>expect = <a class="code hl_namespace" href="../../d3/d18/namespacemimicpp_1_1expect.html">mimicpp::expect</a>;</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_class" href="../../d2/d48/classmimicpp_1_1_mock.html">mimicpp::Mock</a>&lt;void(<span class="keywordtype">int</span>)&gt; mock{};</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_define" href="../../d2/d4f/_expectation_builder_8hpp.html#a7e7d68eefb8f3cba28422f62bcf2f90a">SCOPED_EXP</a> mock.expect_call(42); <span class="comment">// (1)</span></div>
<div class="line"> </div>
<div class="line">    <a class="code hl_define" href="../../d2/d4f/_expectation_builder_8hpp.html#a7e7d68eefb8f3cba28422f62bcf2f90a">SCOPED_EXP</a> mock.expect_call(1337); <span class="comment">// (2)</span></div>
<div class="line"> </div>
<div class="line">    <a class="code hl_class" href="../../d5/d54/classmimicpp_1_1_sequence.html">mimicpp::Sequence</a> sequence{};</div>
<div class="line">    <a class="code hl_define" href="../../d2/d4f/_expectation_builder_8hpp.html#a7e7d68eefb8f3cba28422f62bcf2f90a">SCOPED_EXP</a> mock.expect_call(1337)  <span class="comment">// (3)</span></div>
<div class="line">                | expect::in_sequence(sequence);</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_define" href="../../d2/d4f/_expectation_builder_8hpp.html#a7e7d68eefb8f3cba28422f62bcf2f90a">SCOPED_EXP</a> mock.expect_call(1337); <span class="comment">// (4)</span></div>
<div class="line"> </div>
<div class="line">    <a class="code hl_define" href="../../d2/d4f/_expectation_builder_8hpp.html#a7e7d68eefb8f3cba28422f62bcf2f90a">SCOPED_EXP</a> mock.expect_call(42)  <span class="comment">// (5)</span></div>
<div class="line">                | expect::in_sequence(sequence);</div>
<div class="line"> </div>
<div class="line">    mock(42); <span class="comment">// matches (1), because (5) is the second element of the sequence</span></div>
<div class="line">    mock(1337); <span class="comment">// matches (4), because it&#39;s the &quot;youngest&quot; available alternative</span></div>
<div class="line">    mock(1337); <span class="comment">// matches (3), because it&#39;s &quot;younger&quot; than (2). So, the first element of the sequence got matched.</span></div>
<div class="line">    mock(42); <span class="comment">// matches (5). The sequence is now fulfilled.</span></div>
<div class="line">    mock(1337); <span class="comment">// finally matches (2)</span></div>
</div><!-- fragment --><p>It's totally fine to attach expectations to sequences, which are already queried for matches. Sequences do not have to be setup in one go.</p>
<h1><a class="anchor" id="autotoc_md3"></a>
Thread-Safety</h1>
<p>Sequences are not thread-safe and are never intended to be. If one attempts to enforce a strong ordering between multiple threads without any explicit synchronisation, that attempt is doomed to fail.</p>
<h1><a class="anchor" id="autotoc_md4"></a>
Afterthoughts</h1>
<p><a class="el" href="../../d5/d54/classmimicpp_1_1_sequence.html" title="The user level sequence object.">Sequence</a> policies are treated as <code><a class="el" href="../../d1/d26/conceptmimicpp_1_1times__policy.html">times_policy</a></code> and therefore can not be mixed with e.g. <code>Times</code>. At a first glance this seems rather unintuitive, as a sequence does not actually mind how often an expectation is matched, but rather if one expectation has been matched before another. This being true, there is still a huge intersection between those cases, because a sequence still must know how often an expectation is expected to match. This would lead to higher coupling between two rather unrelated domains, but isn't the actual deal-breaker. The actual reason is, that both, <code>Times</code> and <code>RuntimeTimes</code> are rather permissive designed and thus allow for a wide range of valid configurations. Especially the cases, where a range of possible calls is configured (like <code>at_least</code>), makes it very hard for a sequence to reliably determine, whether an expectation shall match or not. When users define expectations not precise enough, this quickly leads to ambiguities between multiple expectations which may and will result in surprising outcomes. </p>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="gabe345f064a02510e07321d78c59959e7" name="gabe345f064a02510e07321d78c59959e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabe345f064a02510e07321d78c59959e7">&#9670;&#160;</a></span>SequenceId</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum class <a class="el" href="#gabe345f064a02510e07321d78c59959e7">mimicpp::SequenceId</a> : std::size_t</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Strong type for internally used sequence ids. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga86172142a200384577c82c2051c388a7" name="ga86172142a200384577c82c2051c388a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga86172142a200384577c82c2051c388a7">&#9670;&#160;</a></span>in_sequence()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto mimicpp::expect::in_sequence </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/d54/classmimicpp_1_1_sequence.html">Sequence</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>sequence</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::size_t</td>          <td class="paramname"><span class="paramname"><em>times</em></span><span class="paramdefsep"> = </span><span class="paramdefval">1u</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">nodiscard</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Attaches the expectation onto a sequence. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sequence</td><td>The sequence to be attached to. </td></tr>
    <tr><td class="paramname">times</td><td>The expected times. <div class="fragment"><div class="line">    <span class="keyword">namespace </span>matches = <a class="code hl_namespace" href="../../dd/d7b/namespacemimicpp_1_1matches.html">mimicpp::matches</a>;</div>
<div class="line">    <span class="keyword">namespace </span>expect = <a class="code hl_namespace" href="../../d3/d18/namespacemimicpp_1_1expect.html">mimicpp::expect</a>;</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_class" href="../../d2/d48/classmimicpp_1_1_mock.html">mimicpp::Mock</a>&lt;void(<span class="keywordtype">int</span>)&gt; mock{};</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_class" href="../../d5/d54/classmimicpp_1_1_sequence.html">mimicpp::Sequence</a> sequence{};</div>
<div class="line">    <a class="code hl_define" href="../../d2/d4f/_expectation_builder_8hpp.html#a7e7d68eefb8f3cba28422f62bcf2f90a">SCOPED_EXP</a> mock.expect_call(matches::ne(0))</div>
<div class="line">                | expect::in_sequence(sequence);</div>
<div class="line">    <a class="code hl_define" href="../../d2/d4f/_expectation_builder_8hpp.html#a7e7d68eefb8f3cba28422f62bcf2f90a">SCOPED_EXP</a> mock.expect_call(matches::le(42))</div>
<div class="line">                | expect::in_sequence(sequence);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// a call with arg != 0 is expected before a call with arg &lt;= 42</span></div>
<div class="line">    mock(42); <span class="comment">// matches the first expectation</span></div>
<div class="line">    mock(0); <span class="comment">// matches the second expectation</span></div>
<div class="line"> </div>
<div class="line">    <span class="comment">// note: when we change the call order, the sequence would be violated</span></div>
</div><!-- fragment --> <div class="fragment"><div class="line">    <span class="keyword">using </span><a class="code hl_variable" href="../../dc/d99/group___e_x_p_e_c_t_a_t_i_o_n___m_a_t_c_h_e_r.html#gaa74e274d126775d36dd9ebfd5879b61e">mimicpp::matches::_</a>;</div>
<div class="line">    <span class="keyword">namespace </span>expect = <a class="code hl_namespace" href="../../d3/d18/namespacemimicpp_1_1expect.html">mimicpp::expect</a>;</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_class" href="../../d2/d48/classmimicpp_1_1_mock.html">mimicpp::Mock</a>&lt;void(<span class="keywordtype">int</span>)&gt; mock{};</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_define" href="../../d2/d4f/_expectation_builder_8hpp.html#a7e7d68eefb8f3cba28422f62bcf2f90a">SCOPED_EXP</a> mock.expect_call(42); <span class="comment">// (1)</span></div>
<div class="line"> </div>
<div class="line">    <a class="code hl_define" href="../../d2/d4f/_expectation_builder_8hpp.html#a7e7d68eefb8f3cba28422f62bcf2f90a">SCOPED_EXP</a> mock.expect_call(1337); <span class="comment">// (2)</span></div>
<div class="line"> </div>
<div class="line">    <a class="code hl_class" href="../../d5/d54/classmimicpp_1_1_sequence.html">mimicpp::Sequence</a> sequence{};</div>
<div class="line">    <a class="code hl_define" href="../../d2/d4f/_expectation_builder_8hpp.html#a7e7d68eefb8f3cba28422f62bcf2f90a">SCOPED_EXP</a> mock.expect_call(1337)  <span class="comment">// (3)</span></div>
<div class="line">                | expect::in_sequence(sequence);</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_define" href="../../d2/d4f/_expectation_builder_8hpp.html#a7e7d68eefb8f3cba28422f62bcf2f90a">SCOPED_EXP</a> mock.expect_call(1337); <span class="comment">// (4)</span></div>
<div class="line"> </div>
<div class="line">    <a class="code hl_define" href="../../d2/d4f/_expectation_builder_8hpp.html#a7e7d68eefb8f3cba28422f62bcf2f90a">SCOPED_EXP</a> mock.expect_call(42)  <span class="comment">// (5)</span></div>
<div class="line">                | expect::in_sequence(sequence);</div>
<div class="line"> </div>
<div class="line">    mock(42); <span class="comment">// matches (1), because (5) is the second element of the sequence</span></div>
<div class="line">    mock(1337); <span class="comment">// matches (4), because it&#39;s the &quot;youngest&quot; available alternative</span></div>
<div class="line">    mock(1337); <span class="comment">// matches (3), because it&#39;s &quot;younger&quot; than (2). So, the first element of the sequence got matched.</span></div>
<div class="line">    mock(42); <span class="comment">// matches (5). The sequence is now fulfilled.</span></div>
<div class="line">    mock(1337); <span class="comment">// finally matches (2)</span></div>
</div><!-- fragment --> </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d3/dd3/group___e_x_p_e_c_t_a_t_i_o_n___s_e_q_u_e_n_c_e_ga86172142a200384577c82c2051c388a7_cgraph.svg" width="342" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="gaff97698bf9ff2924055f59a948483f56" name="gaff97698bf9ff2924055f59a948483f56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaff97698bf9ff2924055f59a948483f56">&#9670;&#160;</a></span>in_sequences()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;std::size_t size&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto mimicpp::expect::in_sequences </td>
          <td>(</td>
          <td class="paramtype">const std::reference_wrapper&lt; <a class="el" href="../../d5/d54/classmimicpp_1_1_sequence.html">Sequence</a> &gt;(&amp;)</td>          <td class="paramname"><span class="paramname"><em>sequences</em></span>[size], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::size_t</td>          <td class="paramname"><span class="paramname"><em>times</em></span><span class="paramdefsep"> = </span><span class="paramdefval">1u</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">nodiscard</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Attaches the expectation onto the listed sequences. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sequences</td><td>The sequences to be attached to. </td></tr>
    <tr><td class="paramname">times</td><td>The expected times. <div class="fragment"><div class="line">    <span class="keyword">using </span><a class="code hl_variable" href="../../dc/d99/group___e_x_p_e_c_t_a_t_i_o_n___m_a_t_c_h_e_r.html#gaa74e274d126775d36dd9ebfd5879b61e">mimicpp::matches::_</a>;</div>
<div class="line">    <span class="keyword">namespace </span>expect = <a class="code hl_namespace" href="../../d3/d18/namespacemimicpp_1_1expect.html">mimicpp::expect</a>;</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_class" href="../../d2/d48/classmimicpp_1_1_mock.html">mimicpp::Mock</a>&lt;void()&gt; mock{};</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_class" href="../../d5/d54/classmimicpp_1_1_sequence.html">mimicpp::Sequence</a> sequence1{};</div>
<div class="line">    <a class="code hl_class" href="../../d5/d54/classmimicpp_1_1_sequence.html">mimicpp::Sequence</a> sequence2{};</div>
<div class="line">    <a class="code hl_define" href="../../d2/d4f/_expectation_builder_8hpp.html#a7e7d68eefb8f3cba28422f62bcf2f90a">SCOPED_EXP</a> mock.expect_call() <span class="comment">// (1)</span></div>
<div class="line">                | expect::in_sequence(sequence1);</div>
<div class="line">    <a class="code hl_define" href="../../d2/d4f/_expectation_builder_8hpp.html#a7e7d68eefb8f3cba28422f62bcf2f90a">SCOPED_EXP</a> mock.expect_call() <span class="comment">// (2)</span></div>
<div class="line">                | expect::in_sequences({sequence1, sequence2});</div>
<div class="line">    <a class="code hl_define" href="../../d2/d4f/_expectation_builder_8hpp.html#a7e7d68eefb8f3cba28422f62bcf2f90a">SCOPED_EXP</a> mock.expect_call() <span class="comment">// (3)</span></div>
<div class="line">                | expect::in_sequence(sequence2);</div>
<div class="line"> </div>
<div class="line">    mock(); <span class="comment">// (1) is used here, because (3) is second in sequence2 and (2) is second in sequence1</span></div>
<div class="line">    mock(); <span class="comment">// (2) is used here, because it&#39;s the first in both sequences now</span></div>
<div class="line">    mock(); <span class="comment">// now (3) is used</span></div>
</div><!-- fragment --> </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d3/dd3/group___e_x_p_e_c_t_a_t_i_o_n___s_e_q_u_e_n_c_e_gaff97698bf9ff2924055f59a948483f56_cgraph.svg" width="342" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Sun Jun 16 2024 for mimic++ by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0 </li>
  </ul>
</div>
</body>
</html>
